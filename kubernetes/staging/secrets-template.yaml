# üîê SECRETS TEMPLATE - NO ACTUAL SECRETS HERE
# This file contains the structure for secrets but NO actual values
# Actual secrets will be created by CI/CD pipeline from environment variables

apiVersion: v1
kind: Secret
metadata:
  name: oms-app-secrets
  namespace: oms-staging
  labels:
    app: oms
    environment: staging
type: Opaque
stringData:
  # Database connection (injected from CI/CD)
  DATABASE_URL: "postgresql://$(DB_USERNAME):$(DB_PASSWORD)@$(DB_HOST):5432/$(DB_NAME)"

  # JWT configuration (injected from CI/CD)
  JWT_SECRET: "$(JWT_SECRET_KEY)"
  JWT_EXPIRES_IN: "24h"

  # Redis connection (injected from CI/CD)
  REDIS_URL: "redis://$(REDIS_HOST):6379"

  # Application secrets (injected from CI/CD)
  ENCRYPTION_SECRET: "$(ENCRYPTION_SECRET)"

  # API configuration
  API_PORT: "3001"
  NODE_ENV: "staging"

---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secrets
  namespace: oms-staging
  labels:
    app: postgres
    environment: staging
type: Opaque
stringData:
  # PostgreSQL configuration (injected from CI/CD)
  POSTGRES_USER: "$(DB_USERNAME)"
  POSTGRES_PASSWORD: "$(DB_PASSWORD)"
  POSTGRES_DB: "$(DB_NAME)"

---
apiVersion: v1
kind: Secret
metadata:
  name: redis-secrets
  namespace: oms-staging
  labels:
    app: redis
    environment: staging
type: Opaque
stringData:
  # Redis configuration (injected from CI/CD)
  REDIS_PASSWORD: "$(REDIS_PASSWORD)"

---
# Image pull secrets (for private registries)
apiVersion: v1
kind: Secret
metadata:
  name: registry-credentials
  namespace: oms-staging
type: kubernetes.io/dockerconfigjson
data:
  # This will be injected by CI/CD pipeline
  .dockerconfigjson: "$(DOCKER_CONFIG_JSON)"